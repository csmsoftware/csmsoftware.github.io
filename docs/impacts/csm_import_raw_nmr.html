<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CSM Matlab Docs</title>

    <!-- Bootstrap -->
    <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://bootswatch.com/cosmo/bootstrap.min.css" rel="stylesheet">

    <link href="css/csm/bootstrap-live.css" rel="stylesheet">
    <link href="css/csm/csm.css" rel="stylesheet">
  <!--  <link href="css/csm/lavish.css" rel="stylesheet"> -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- Google Prettify for syntax highlighting -->
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=matlab"></script>
</head>
<body>


<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" id="nav-logo" href="index.html"><img src="images/IMPaCTS Logo-01.png" height="50px" /></a>
            <a class="navbar-brand" href="https://github.com/csmsoftware/IMPaCTS">Github source</a>
            <a class="navbar-brand" href="https://csmsoftware.github.io">CSM software </a>

        </div>
    </div>
</nav>

<div class="container">

    <div class="row">
        <div class="col-sm-3">

            <ul class="list-group" id="side-nav">
    <li class="list-group-item menu-button" id="guides-main-menu">
        <a href="#">General guides</a>
    </li>
    <ul class="sub-menu" id="guides-sub-menu">
        <li class="list-group-item">
            <a href="getting-started.html">Getting Started</a>
        </li>
        <li class="list-group-item">
            <a href="toolbox-datatypes.html">Toolbox Datatypes</a>
        </li>
        <li class="list-group-item">
            <a href="migrations.html">Migrations</a>
        </li>
        <li class="list-group-item">
            <a href="import-raw-bruker.html">Importing Raw Bruker NMR</a>
        </li>
    </ul>

    <!--
        <li class="list-group-item">
            <a href="aligning-spectra.html">Aligning Spectra</a>
        </li>
        <li class="list-group-item">
            <a href="run-pca.html">Run a PCA</a>
        </li>
        <li class="list-group-item">
            <a href="run-opls.html">Run an OPLS</a>
        </li>
    </ul> -->

   <li class="list-group-item menu-button" id="data-models-main-menu"><a href="#">Data Models</a></li><ul class="sub-menu" id="data-models-sub-menu"><li class="list-group-item"><a href="csm_spectra.html">csm spectra</a></li><li class="list-group-item"><a href="csm_nmr_spectra.html">csm nmr spectra</a></li><li class="list-group-item"><a href="csm_jres_spectra.html">csm jres spectra</a></li><li class="list-group-item"><a href="csm_ms_spectra.html">csm ms spectra</a></li><li class="list-group-item"><a href="csm_wrapper.html">csm wrapper</a></li><li class="list-group-item"><a href="csm_figure.html">csm figure</a></li><li class="list-group-item"><a href="csm_bruker_acquisition_data.html">csm bruker acquisition data</a></li><li class="list-group-item"><a href="csm_bruker_acquisition_data_entry.html">csm bruker acquisition data entry</a></li><li class="list-group-item"><a href="csm_ms_features.html">csm ms features</a></li><li class="list-group-item"><a href="csm_nmr_calibration_info.html">csm nmr calibration info</a></li><li class="list-group-item"><a href="csm_nmr_calibration_info_entry.html">csm nmr calibration info entry</a></li><li class="list-group-item"><a href="csm_nmr_experiment_info.html">csm nmr experiment info</a></li><li class="list-group-item"><a href="csm_nmr_experiment_info_entry.html">csm nmr experiment info entry</a></li><li class="list-group-item"><a href="csm_sample_metadata.html">csm sample metadata</a></li><li class="list-group-item"><a href="csm_sample_metadata_entry.html">csm sample metadata entry</a></li></ul><li class="list-group-item menu-button" id="migrations-main-menu"><a href="#">Migrations</a></li><ul class="sub-menu active" id="migrations-sub-menu"><li class="list-group-item"><a href="csm_export_spectra_hdf.html">csm export spectra hdf</a></li><li class="list-group-item"><a href="csm_import_spectra_hdf.html">csm import spectra hdf</a></li><li class="list-group-item"><a href="csm_import_raw_nmr.html">csm import raw nmr</a></li><li class="list-group-item"><a href="csm_import_nmr_spectra.html">csm import nmr spectra</a></li><li class="list-group-item"><a href="csm_import_spectra_progenesis_qi.html">csm import spectra progenesis qi</a></li><li class="list-group-item"><a href="csm_import_spectra_xcms.html">csm import spectra xcms</a></li><li class="list-group-item"><a href="csm_import_spectra_static.html">csm import spectra static</a></li><li class="list-group-item"><a href="csm_import_generic_file.html">csm import generic file</a></li><li class="list-group-item"><a href="csm_import_generic_folder.html">csm import generic folder</a></li><li class="list-group-item"><a href="csm_import_bruker_acquisition_data.html">csm import bruker acquisition data</a></li><li class="list-group-item"><a href="csm_import_nmr_calibration_info.html">csm import nmr calibration info</a></li><li class="list-group-item"><a href="csm_import_nmr_experiment_info.html">csm import nmr experiment info</a></li><li class="list-group-item"><a href="csm_import_sample_metadata.html">csm import sample metadata</a></li></ul><li class="list-group-item menu-button" id="preprocessing-main-menu"><a href="#">Preprocessing</a></li><ul class="sub-menu" id="preprocessing-sub-menu"><li class="list-group-item"><a href="csm_calibrate_nmr.html">csm calibrate nmr</a></li><li class="list-group-item"><a href="csm_interpolate_nmr.html">csm interpolate nmr</a></li><li class="list-group-item"><a href="csm_normalise.html">csm normalise</a></li><li class="list-group-item"><a href="csm_scale.html">csm scale</a></li><li class="list-group-item"><a href="csm_rspa.html">csm rspa</a></li><li class="list-group-item"><a href="csm_gui_alignment.html">csm gui alignment</a></li></ul><li class="list-group-item menu-button" id="analysis-main-menu"><a href="#">Analysis</a></li><ul class="sub-menu" id="analysis-sub-menu"><li class="list-group-item"><a href="csm_istocsy.html">csm istocsy</a></li><li class="list-group-item"><a href="csm_pca.html">csm pca</a></li><li class="list-group-item"><a href="csm_orth_pls.html">csm orth pls</a></li><li class="list-group-item"><a href="csm_orth_pls_permutate.html">csm orth pls permutate</a></li><li class="list-group-item"><a href="csm_stocsy.html">csm stocsy</a></li><li class="list-group-item"><a href="csm_stocsye.html">csm stocsye</a></li></ul><li class="list-group-item menu-button" id="figures-main-menu"><a href="#">Figures</a></li><ul class="sub-menu" id="figures-sub-menu"><li class="list-group-item"><a href="csm_figure.html">csm figure</a></li><li class="list-group-item"><a href="csm_plot_pca.html">csm plot pca</a></li><li class="list-group-item"><a href="csm_plot_orth_pls.html">csm plot orth pls</a></li><li class="list-group-item"><a href="csm_plot_spectra.html">csm plot spectra</a></li><li class="list-group-item"><a href="csm_plot_stack.html">csm plot stack</a></li></ul><li class="list-group-item menu-button" id="utilities-main-menu"><a href="#">Utilities</a></li><ul class="sub-menu" id="utilities-sub-menu"><li class="list-group-item"><a href="clone.html">clone</a></li><li class="list-group-item"><a href="csm_hdf_tools.html">csm hdf tools</a></li><li class="list-group-item"><a href="csm_object_converter.html">csm object converter</a></li><li class="list-group-item"><a href="csm_progress_bar.html">csm progress bar</a></li></ul>
</ul>

        </div>
        <div class="col-sm-9">

            <div class="jumbotron"><h2>CSM Import Raw NMR</h2><br /><p>CSM Import Raw NMR Class.</p><p>	Import NMR experiment into <a href="csm_nmr_spectra.html">csm_nmr_spectra</a> objects. Optionally Run QC checks.</p><p>   Leave arguments blank for pop-up selection boxes.</p><p>   experimentInfo is a struct containing paths to the required files; the NMR Experiment Info file, the NMR Calibration Info file, and the Sample Metadata file.</p><p>   These files are .xls files containing the data for import, ie, the path to the experiment folder, the calibration type, and extra sample metadata.</p><p>	NMR Experiment Info template:</p><p style="text-indent:40px;">		Sample ID, Experiment Number, Experiment Folder, Rack, Rack Position, Instrument, Acquisition Batch</p><p>	NMR Calibration Info template:</p><p style="text-indent:40px;">		Sample ID, Sample Type, Calibration Type, Calibration Ref Point, Calibration Search Min, Calibration Search Max</p><p>   Sample Metadata template example:</p><p>       Sample ID, Case/control, gender, age, etc</p><p>	Will only import 1 pdata folder, as for small molecules this is all that is required.</p><p>   Spectra objects are contained in the relevant map properties and are grouped by sample_type, ie 'plasma'.</p><p>      eg. cpmg_plasma = imported.cpmg('plasma');</p><p>          oneDWS_urine = imported.oneDWS('urine');</p><p>          diffEdited_serum = imported.diffEdited('serum');</p><p>          jres_plasma = imported.plasma('plasma');</p><p>   Errors are saved to file, and can be found into the importErrors map using the same syntax as above.</p></div>

            <div class="panel panel-default"><div class="panel-heading"><h3>Usage</h3></div><div class="panel-body"><p style="font-size:20px;">   imported_experiment = <a href="csm_import_raw_nmr.html">csm_import_raw_nmr</a>()</p><p style="font-size:20px;"> 	imported_experiment = <a href="csm_import_raw_nmr.html">csm_import_raw_nmr</a>( 'experiment_info', experiment_info, 'line_width_qc',line_width_qc, 'save_dir', save_dir, 'spectra_size', spectra_size, 'spectra_bounds', spectra_bounds, 'spectra_size_2D', spectra_size_2D, 'spectra_bounds_2D', spectra_bounds_2D, 'LW_peak', LW_peak 'LW_threshold', LW_threshold )</p></div></div>

            <div class="panel panel-default"><div class="panel-heading"><h3>Arguments <span style="font-size:18px">(* = required)</span></h3></div><div class="panel-body"><table class="table table-striped table-bordered table-condensed"><tr><th>Variable</th><th>Type</th><th>Default Value</th><th>Description</th></tr><tr><td class="optional-argument">experiment_info</td><td>struct</td><td><i>None</i></td><td>Structure for holding experimental information.</td></tr><tr><td class="optional-argument">experiment_info.experiment_path</td><td>str</td><td><i>None</i></td><td>Full path to experiment folder.</td></tr><tr><td class="optional-argument">experiment_info.nmr_experiment_info_path</td><td>str</td><td><i>None</i></td><td>Full path to nmr experiment info csv file.</td></tr><tr><td class="optional-argument">   experiment_info.nmr_calibration_info_path</td><td>str</td><td><i>None</i></td><td>Full path to the nmr calibration info path.</td></tr><tr><td class="optional-argument">experiment_info.sample_metadata_path</td><td>str</td><td><i>None</i></td><td>Full path to sample metadata csv file.</td></tr><tr><td class="optional-argument">   line_width_qc</td><td>bool</td><td>true.</td><td>Whether to run the LW QC</td></tr><tr><td class="optional-argument">save_dir</td><td>str</td><td>'current working directory'+'_import_data'.</td><td>Full path of output dir</td></tr><tr><td class="optional-argument">spectra_size</td><td>1*1</td><td>20000.</td><td>Number of points of ppm</td></tr><tr><td class="optional-argument">spectra_bounds</td><td>1*2</td><td>[-1 10].</td><td>Range of ppm (min and max)</td></tr><tr><td class="optional-argument">spectra_size_2D</td><td>1*1</td><td>20000.</td><td>Number of points of 2D ppm</td></tr><tr><td class="optional-argument">spectra_bounds_2D</td><td>1*2</td><td>[-1 10].</td><td>Range of 2D ppm (min and max)</td></tr><tr><td class="optional-argument">LW_peak	</td><td>str</td><td>'TSP'. </td><td>Which peak to use for LW calc, uses 'lactate' for plasma and 'TSP' for urine</td></tr><tr><td class="optional-argument">LW_threshold</td><td>1*1</td><td>1.4.</td><td>Linewidth threshold</td></tr></table></div></div>

            <div class="panel panel-default"><div class="panel-heading"><h3>Returns</h3></div><div class="panel-body"><table class="table table-striped table-bordered table-condensed"><tr><th>Variable</th><th>Type</th><th>Description</th></tr><tr><td>   experiment_path</td><td>str</td><td>Full path to experiment.</td></tr><tr><td>   sample_metadata_path</td><td>str</td><td>Full path to sample metadata file.</td></tr><tr><td>   nmr_experiment_info_path</td><td>str</td><td>Full path to NMR experiment file.</td></tr><tr><td>   nmr_calibration_info_path</td><td>str</td><td>Full path to NMR calibration file.</td></tr><tr><td>   save_dir</td><td>str</td><td>Full path to save directory.</td></tr><tr><td>   log_file</td><td>str</td><td>Full path to log file.</td></tr><tr><td>   imported_bruker_metadata</td><td><a href="csm_import_bruker_acquisition_data.html">csm_import_bruker_acquisition_data</a></td><td>Imported bruker acquisition data.</td></tr><tr><td>   imported_sample_metadata</td><td><a href="csm_sample_metadata.html">csm_sample_metadata</a></td><td>Imported sample metadata.</td></tr><tr><td>   imported_nmr_calibration_info</td><td><a href="csm_import_nmr_experiment_info.html">csm_import_nmr_experiment_info</a></td><td>Imported NMR experiment info.</td></tr><tr><td>   imported_nmr_experiment_info</td><td><a href="csm_import_nmr_calibration_info.html">csm_import_nmr_calibration_info</a></td><td>Imported NMR calibration info.</td></tr><tr><td>   raw_spectra</td><td>containers.Map</td><td>Container of raw spectra.</td></tr><tr><td>   missing_bruker_experiments</td><td>cell</td><td>Missing bruker experiment data.</td></tr><tr><td>   missing_nmr_experiment_info</td><td>cell</td><td>Missing NMR experiment data.</td></tr><tr><td>   missing_nmr_calibration_info</td><td>cell</td><td>Missing NMR calibration data.</td></tr><tr><td>   missing_samples_in_spectra</td><td>cell</td><td>Missing samples in<a href="csm_spectra.html"> spectra </a>data.</td></tr><tr><td>   missing_sample_metadata</td><td>cell</td><td>Missing sample metadata.</td></tr><tr><td>   exceptions</td><td>cell</td><td>Exceptions from import.</td></tr><tr><td>   spectrometer_frequency</td><td>1*1</td><td>The spectratrometer Frequency.</td></tr><tr><td>   spectra_size</td><td>1*1</td><td>Calculated size of the spectra.</td></tr><tr><td>   spectra_bounds</td><td>1*2</td><td>Upper and lower limits of the spectra.</td></tr><tr><td>   spectra_resolution</td><td>1*1</td><td>Resolution of the spectra.</td></tr><tr><td>   ppm_common</td><td>1*n</td><td>PPM common scale.</td></tr><tr><td>   spectra_size_2D</td><td>1*1</td><td>Calculated size of the JRES 2D spectra.</td></tr><tr><td>   spectra_bounds_2D</td><td>1*2</td><td>2D Upper and lower limits of the JRES 2D spectra.</td></tr><tr><td>   spectra_resolution_2D</td><td>1*1</td><td>Resolution of the JRES 2D spectra.</td></tr><tr><td>   ppm_common_2D</td><td>1*n</td><td>PPM common scale of JRES 2D spectra.</td></tr><tr><td>   LW_peak</td><td>1*1</td><td>Linewidth peak.</td></tr><tr><td>   LW_threshold</td><td>1*1</td><td>Linewidth threshold.</td></tr><tr><td>   pulse_programs</td><td>cell</td><td>Cell array of the imported pulse programs.</td></tr><tr><td>   import_failed</td><td>containers.Map</td><td>Container of failed imports.</td></tr><tr><td>   import_errors</td><td>containers.Map</td><td>Container of import errors.</td></tr><tr><td>   pulse_program_lookup</td><td>containers.Map</td><td>Pulse program short name lookup.</td></tr><tr><td>   sample_types</td><td>cell</td><td>Cell array of imported sample types.</td></tr><tr><td>   cpmg</td><td>containers.Map</td><td>Container of final CPMG spectra.</td></tr><tr><td>   oneDWS</td><td>containers.Map</td><td>Container of final 1D Water Suppressed spectra.</td></tr><tr><td>   diff_edited</td><td>containers.Map</td><td>Container of diffusion edited spectra.</td></tr><tr><td>   jres</td><td>containers.Map</td><td>Container of final JRES spectra.</td></tr><tr><td>   peak_width_output_cpmg</td><td>containers.Map</td><td>Container of QC output.</td></tr><tr><td>   peak_width_output_oneDWS</td><td>containers.Map</td><td>Container of QC output.</td></tr><tr><td>   peak_width_output_jres</td><td>containers.Map</td><td>Container of QC output.</td></tr><tr><td>   peak_width_output_diff_edited</td><td>containers.Map</td><td>Container of QC output.</td></tr></table></div></div>

            

            

        </div>
    </div>
    <div class="row" style="height:100px;"></div>
</div>

<p style="text-align:center;">Copyright Imperial College London 2017</p>


</div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript">

        OpenMenu();

        $(document).ready( function () {

            MenuMover();

        });

        function OpenMenu() {

            var pathname = window.location.pathname;
            var pathsplit = pathname.split('/');

            var filename = pathsplit[pathsplit.length-1];

            var menu = $('a[href="' + filename + '"]').parent().parent().prop('id');

            if ($('#' + menu).css('display') == 'none'){

                $('#' + menu).css('display','block');

            }

        }

        function MenuMover() {

            $('.menu-button').click(function(ev) {

                ev.preventDefault();

                // Open Menu

                var clicked_parent_menu = $(this).prop('id');
                var clicked_menu_name = clicked_parent_menu.substring(0,clicked_parent_menu.indexOf('-main-menu'));

                var clicked_sub_menu_select = '#' + clicked_menu_name + '-sub-menu';


                $('.menu-button').each(function(ev) {

                    var other_parent_menu = $(this).prop('id');
                    var other_menu_name = other_parent_menu.substring(0,other_parent_menu.indexOf('-main-menu'));

                    var other_sub_menu_select = '#' + other_menu_name + '-sub-menu';

                    if ($(other_sub_menu_select).is(':hidden') == false && other_menu_name != clicked_menu_name ){

                        $(other_sub_menu_select).slideToggle();

                    }
                });

                $(clicked_sub_menu_select).slideToggle();

            });

        }

    </script>
    <script type="text/javascript">
        !function ($) {
            $(function(){
                window.prettyPrint && prettyPrint()
            })
        }(window.jQuery)
    </script>
</div>
</body>
</html>